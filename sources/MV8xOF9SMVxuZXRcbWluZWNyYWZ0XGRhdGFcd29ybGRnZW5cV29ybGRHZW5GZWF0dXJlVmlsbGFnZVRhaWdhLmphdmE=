package net.minecraft.data.worldgen;

import com.google.common.collect.ImmutableList;
import com.mojang.datafixers.util.Pair;
import net.minecraft.data.worldgen.placement.VillagePlacements;
import net.minecraft.resources.MinecraftKey;
import net.minecraft.world.level.levelgen.feature.structures.WorldGenFeatureDefinedStructurePoolStructure;
import net.minecraft.world.level.levelgen.feature.structures.WorldGenFeatureDefinedStructurePoolTemplate;

public class WorldGenFeatureVillageTaiga {

    public static final WorldGenFeatureDefinedStructurePoolTemplate START = WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/town_centers"), new MinecraftKey("empty"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/town_centers/taiga_meeting_point_1", ProcessorLists.MOSSIFY_10_PERCENT), 49), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/town_centers/taiga_meeting_point_2", ProcessorLists.MOSSIFY_10_PERCENT), 49), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/town_centers/taiga_meeting_point_1", ProcessorLists.ZOMBIE_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/town_centers/taiga_meeting_point_2", ProcessorLists.ZOMBIE_TAIGA), 1)), WorldGenFeatureDefinedStructurePoolTemplate.Matching.RIGID));

    public WorldGenFeatureVillageTaiga() {}

    public static void bootstrap() {}

    static {
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/streets"), new MinecraftKey("village/taiga/terminators"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/corner_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/corner_02", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/corner_03", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/straight_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/straight_02", ProcessorLists.STREET_SNOWY_OR_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/straight_03", ProcessorLists.STREET_SNOWY_OR_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/straight_04", ProcessorLists.STREET_SNOWY_OR_TAIGA), 7), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/straight_05", ProcessorLists.STREET_SNOWY_OR_TAIGA), 7), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/straight_06", ProcessorLists.STREET_SNOWY_OR_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/crossroad_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/crossroad_02", ProcessorLists.STREET_SNOWY_OR_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/crossroad_03", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), new Pair[]{Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/crossroad_04", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/crossroad_05", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/crossroad_06", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/streets/turn_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 3)}), WorldGenFeatureDefinedStructurePoolTemplate.Matching.TERRAIN_MATCHING));
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/zombie/streets"), new MinecraftKey("village/taiga/terminators"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/corner_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/corner_02", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/corner_03", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/straight_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/straight_02", ProcessorLists.STREET_SNOWY_OR_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/straight_03", ProcessorLists.STREET_SNOWY_OR_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/straight_04", ProcessorLists.STREET_SNOWY_OR_TAIGA), 7), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/straight_05", ProcessorLists.STREET_SNOWY_OR_TAIGA), 7), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/straight_06", ProcessorLists.STREET_SNOWY_OR_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/crossroad_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/crossroad_02", ProcessorLists.STREET_SNOWY_OR_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/crossroad_03", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), new Pair[]{Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/crossroad_04", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/crossroad_05", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/crossroad_06", ProcessorLists.STREET_SNOWY_OR_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/streets/turn_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 3)}), WorldGenFeatureDefinedStructurePoolTemplate.Matching.TERRAIN_MATCHING));
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/houses"), new MinecraftKey("village/taiga/terminators"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_small_house_1", ProcessorLists.MOSSIFY_10_PERCENT), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_small_house_2", ProcessorLists.MOSSIFY_10_PERCENT), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_small_house_3", ProcessorLists.MOSSIFY_10_PERCENT), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_small_house_4", ProcessorLists.MOSSIFY_10_PERCENT), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_small_house_5", ProcessorLists.MOSSIFY_10_PERCENT), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_medium_house_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_medium_house_2", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_medium_house_3", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_medium_house_4", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_butcher_shop_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_tool_smith_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_fletcher_house_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), new Pair[]{Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_shepherds_house_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_armorer_house_1", ProcessorLists.MOSSIFY_10_PERCENT), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_armorer_2", ProcessorLists.MOSSIFY_10_PERCENT), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_fisher_cottage_1", ProcessorLists.MOSSIFY_10_PERCENT), 3), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_tannery_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_cartographer_house_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_library_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_masons_house_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_weaponsmith_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_weaponsmith_2", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_temple_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_large_farm_1", ProcessorLists.FARM_TAIGA), 6), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_large_farm_2", ProcessorLists.FARM_TAIGA), 6), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_small_farm_1", ProcessorLists.MOSSIFY_10_PERCENT), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_animal_pen_1", ProcessorLists.MOSSIFY_10_PERCENT), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.empty(), 6)}), WorldGenFeatureDefinedStructurePoolTemplate.Matching.RIGID));
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/zombie/houses"), new MinecraftKey("village/taiga/terminators"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_small_house_1", ProcessorLists.ZOMBIE_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_small_house_2", ProcessorLists.ZOMBIE_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_small_house_3", ProcessorLists.ZOMBIE_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_small_house_4", ProcessorLists.ZOMBIE_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_small_house_5", ProcessorLists.ZOMBIE_TAIGA), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_medium_house_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_medium_house_2", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_medium_house_3", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_medium_house_4", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_butcher_shop_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_tool_smith_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_fletcher_house_1", ProcessorLists.ZOMBIE_TAIGA), 2), new Pair[]{Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_shepherds_house_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_armorer_house_1", ProcessorLists.ZOMBIE_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_fisher_cottage_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_tannery_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_cartographer_house_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_library_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_masons_house_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_weaponsmith_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_weaponsmith_2", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_temple_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_large_farm_1", ProcessorLists.ZOMBIE_TAIGA), 6), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/houses/taiga_large_farm_2", ProcessorLists.ZOMBIE_TAIGA), 6), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_small_farm_1", ProcessorLists.ZOMBIE_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/houses/taiga_animal_pen_1", ProcessorLists.ZOMBIE_TAIGA), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.empty(), 6)}), WorldGenFeatureDefinedStructurePoolTemplate.Matching.RIGID));
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/terminators"), new MinecraftKey("empty"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/plains/terminators/terminator_01", ProcessorLists.STREET_SNOWY_OR_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/plains/terminators/terminator_02", ProcessorLists.STREET_SNOWY_OR_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/plains/terminators/terminator_03", ProcessorLists.STREET_SNOWY_OR_TAIGA), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/plains/terminators/terminator_04", ProcessorLists.STREET_SNOWY_OR_TAIGA), 1)), WorldGenFeatureDefinedStructurePoolTemplate.Matching.TERRAIN_MATCHING));
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/decor"), new MinecraftKey("empty"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_lamp_post_1"), 10), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_1"), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_2"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_3"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_4"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_5"), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_6"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.SPRUCE_VILLAGE), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.PINE_VILLAGE), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.PILE_PUMPKIN_VILLAGE), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.PATCH_TAIGA_GRASS_VILLAGE), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.PATCH_BERRY_BUSH_VILLAGE), 1), new Pair[]{Pair.of(WorldGenFeatureDefinedStructurePoolStructure.empty(), 4)}), WorldGenFeatureDefinedStructurePoolTemplate.Matching.RIGID));
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/zombie/decor"), new MinecraftKey("empty"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_1"), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_2"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_3"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/taiga_decoration_4"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.SPRUCE_VILLAGE), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.PINE_VILLAGE), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.PILE_PUMPKIN_VILLAGE), 2), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.PATCH_TAIGA_GRASS_VILLAGE), 4), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.feature(VillagePlacements.PATCH_BERRY_BUSH_VILLAGE), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.empty(), 4)), WorldGenFeatureDefinedStructurePoolTemplate.Matching.RIGID));
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/villagers"), new MinecraftKey("empty"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/villagers/nitwit"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/villagers/baby"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/villagers/unemployed"), 10)), WorldGenFeatureDefinedStructurePoolTemplate.Matching.RIGID));
        WorldGenFeaturePieces.register(new WorldGenFeatureDefinedStructurePoolTemplate(new MinecraftKey("village/taiga/zombie/villagers"), new MinecraftKey("empty"), ImmutableList.of(Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/villagers/nitwit"), 1), Pair.of(WorldGenFeatureDefinedStructurePoolStructure.legacy("village/taiga/zombie/villagers/unemployed"), 10)), WorldGenFeatureDefinedStructurePoolTemplate.Matching.RIGID));
    }
}
